{% extends "muco_layout.html" %}
{% load staticfiles   %}
{% block javascripts %}
    <script type="text/javascript" src=" {{ STATIC_URL }}js/jquery/jquery.min.js"></script>
{% endblock javascripts %}
{% block page_title %}
    {{nawenuze_group }}
{% endblock page_title %}
{% block charts %}
<section class="groupinfo">
    <div class="group cf" >
    {% if data %}
        <div class="container">
            <h3>Group: {{nawenuze_group}}</h3>
        </div>
        <div class="panel panel-default">
            <div id="chart_panel1" class="panel-body"
            style="width:100%;height:214px">
            </div>
        </div>
        <div class="panel panel-default">
            <div id="chart_panel2" class="panel-body"
            style="width:100%;height:214px">
            </div>
        </div>
        <div class="panel panel-default">
            <div id="chart_panel3" class="panel-body"
            style="width:100%;height:214px">
            </div>
        </div>
    {% endif %}
        <a href= {% url "groups" %}>&laquo; Back to search</a>
    </div>
</section>
<script>
    $(document).ready(function() {
    var group = '{{nawenuze_group|safe}}';
    var chartData = {{data|safe}};
    // Group details charts
     var groupDetailsOptions1 = {
        chart: {
            renderTo: 'chart_panel1',
            type: 'areaspline',
            zoomType: 'x'
      },
        legend: {enabled: false},
        title: {text: 'Amount set aside for children '},
        subtitle: {text: 'Nawe Nuze Group of ' + group},
        xAxis: {
            type: 'datetime',
            dateTimeLabelFormats: { // don't display the dummy year
                month: '%b \'%y',
                day: '%e. %b',
                // year: '%Y. %b'
            },
            title: {
                text: 'Date'
            }
        },
     yAxis: {
            title: {
                text: 'Fbu'
            }
        },
        series : [{}],
    };
    // Group details charts
     var groupDetailsOptions2 = {
        chart: {
            renderTo: 'chart_panel2',
            type: 'areaspline',
            zoomType: 'x'
      },
        legend: {enabled: false},
        title: {text: 'Recharged Lamps'},
        subtitle: {text: 'Nawe Nuze Group of ' + group},
        xAxis: {
            type: 'datetime',
            dateTimeLabelFormats: { // don't display the dummy year
                month: '%b \'%y',
                day: '%e. %b',
                // year: '%Y. %b'
            },
            title: {
                text: 'Date'
            }
        },
     yAxis: {
            title: {
                text: 'Units'
            }
        },
        series : [{}],
    };

    // Group details charts
     var groupDetailsOptions3 = {
        chart: {
            renderTo: 'chart_panel3',
            type: 'areaspline',
            zoomType: 'x'
      },
        legend: {enabled: false},
        title: {text: 'Sold Lamps '},
        subtitle: {text: 'Nawe Nuze Group of ' + group},
        xAxis: {
            type: 'datetime',
            dateTimeLabelFormats: { // don't display the dummy year
                month: '%b \'%y',
                day: '%e. %b',
                // year: '%Y. %b'
            },
            title: {
                text: 'Date'
            }
        },
     yAxis: {
            title: {
                text: 'Units'
            }
        },
        series : [{}],
    };

    console.log(chartData);
    groupDetailsOptions1.series[0].name = chartData[0].name;
    groupDetailsOptions1.series[0].data = chartData[0].data;
    groupDetailsOptions2.series[0].name = chartData[1].name;
    groupDetailsOptions2.series[0].data = chartData[1].data;
    groupDetailsOptions3.series[0].name = chartData[2].name;
    groupDetailsOptions3.series[0].data = chartData[2].data;
    var chart = new Highcharts.Chart(groupDetailsOptions1);
    var chart2 = new Highcharts.Chart(groupDetailsOptions2);
    var chart3 = new Highcharts.Chart(groupDetailsOptions3);
    });
</script>
{% endblock charts %}